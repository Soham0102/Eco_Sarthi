{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kunal Files\\\\projects\\\\janta_voice_final\\\\frontend\\\\src\\\\pages\\\\VoiceComplaint.jsx\",\n  _s = $RefreshSig$();\n// // import React, { useState } from \"react\";\n// // import axios from \"axios\";\n\n// // export default function VoiceComplaint() {\n// //   const [logs, setLogs] = useState([]);\n// //   const [loading, setLoading] = useState(false);\n// //   const [complaintId, setComplaintId] = useState(null);\n// //   const [submitted, setSubmitted] = useState(false);\n\n// //   const appendLog = (line) => {\n// //     setLogs((prev) => [...prev, line]);\n// //   };\n\n// //   const handleVoiceComplaint = async () => {\n// //     setLoading(true);\n// //     setLogs([\"üéôÔ∏è Voice complaint started...\"]);\n// //     setSubmitted(false);\n// //     setComplaintId(null);\n\n// //     try {\n// //       // 1. Trigger the Python voice bot and get structured data\n// //       const voiceRes = await axios.get(\"http://localhost:5000/api/\");\n// //       if (voiceRes.data.status !== \"success\") {\n// //         appendLog(\"‚ùå Voice bot error: \" + voiceRes.data.message);\n// //         return;\n// //       }\n\n// //       const complaintData = voiceRes.data.data;\n// //       appendLog(\"‚úÖ Voice bot finished. Data:\");\n// //       appendLog(JSON.stringify(complaintData, null, 2));\n\n// //       // 2. Send that same data to the complaints endpoint\n// //       const formRes = await axios.post(\n// //         \"http://localhost:5000/api/complaint\",\n// //         {\n// //           name: complaintData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] || complaintData.name,\n// //           complaint: complaintData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] || complaintData.complaint,\n// //           location: complaintData[\"‡§∏‡•ç‡§•‡§æ‡§®\"] || complaintData.location,\n// //           // map any other fields if needed\n// //         }\n// //       );\n\n// //       // 3. Capture and display the Complaint ID\n// //       const newId = formRes.data.complaintId || formRes.data.complaintId;\n// //       setComplaintId(newId);\n// //       setSubmitted(true);\n// //       appendLog(`üì¨ Complaint submitted. ID: ${newId}`);\n// //     } catch (err) {\n// //       appendLog(\"‚ùå Error: \" + err.message);\n// //     } finally {\n// //       setLoading(false);\n// //     }\n// //   };\n\n// //   return (\n// //     <div className=\"max-w-xl mx-auto mt-10 p-6 bg-white rounded shadow\">\n// //       <h2 className=\"text-2xl font-semibold mb-4\">Voice Complaint</h2>\n// //       <button\n// //         onClick={handleVoiceComplaint}\n// //         disabled={loading}\n// //         className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n// //       >\n// //         {loading ? \"Processing...\" : \"Start Voice Complaint\"}\n// //       </button>\n\n// //       <div className=\"mt-6 bg-gray-900 text-green-200 p-4 rounded font-mono h-48 overflow-y-scroll\">\n// //         {logs.map((line, i) => (\n// //           <div key={i}>{line}</div>\n// //         ))}\n// //       </div>\n\n// //       {submitted && (\n// //         <div className=\"mt-6 text-green-700 font-semibold\">\n// //           Complaint submitted successfully!<br />\n// //           Your Complaint ID: <span className=\"font-bold\">{complaintId}</span>\n// //         </div>\n// //       )}\n// //     </div>\n// //   );\n// // }\n\n// import React, { useState } from \"react\";\n// import axios from \"axios\";\n\n// export default function VoiceComplaint() {\n//   // 1. State mirrors ComplaintForm\n//   const [formData, setFormData] = useState({\n//     name: \"\",\n//     complaint: \"\",\n//     location: \"\",\n//     urgency: \"normal\",\n//   });\n\n//   const [complaintId, setComplaintId] = useState(null);\n//   const [submitted, setSubmitted] = useState(false);\n//   const [logs, setLogs] = useState([]);\n//   const [loading, setLoading] = useState(false);\n\n//   // helper to append to console‚Äëstyle logs\n//   const appendLog = (line) => setLogs((prev) => [...prev, line]);\n\n//   const handleVoiceComplaint = async () => {\n//     setLoading(true);\n//     setLogs([\"üéôÔ∏è Starting voice complaint...\"]);\n//     setSubmitted(false);\n//     setComplaintId(null);\n\n//     try {\n//       // 2. Trigger your backend voice route\n//       const voiceRes = await axios.get(\"http://localhost:5000/api/voice-complaint\");\n//       if (voiceRes.data.status !== \"success\") {\n//         appendLog(\"Thank You!\");\n//         return;\n//       }\n\n//       // 3. Pull out structured data\n//       const data = voiceRes.data.data;\n//       appendLog(\"‚úÖ Voice data received:\");\n//       appendLog(JSON.stringify(data, null, 2));\n\n//       // // 4. Map it into the exact same formData shape\n//       // const mapped = {\n//       //   name: data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] || \"\",\n//       //   location: data[\"‡§∏‡•ç‡§•‡§æ‡§®\"] || \"\",\n//       //   department: data[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"] || \"\",\n//       //   description: data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] || \"\",\n//       //   urgency: \"normal\",\n//       // };\n\n//       const aiData = voiceRes.data.data;\n\n//       const payload = {\n//         name: aiData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] || \"\",\n//         location: aiData[\"‡§∏‡•ç‡§•‡§æ‡§®\"] || \"\",\n//         department: aiData[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"] || \"\",\n//         description: aiData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] || \"\",\n//       };\n\n//       await axios.post(\"http://localhost:5000/api/complaint\", payload);\n\n//       setFormData(mapped);\n\n//       // 5. POST to the same endpoint as ComplaintForm\n//       const res = await axios.post(\"http://localhost:5000/api/complaint\", mapped);\n//       setComplaintId(res.data.complaintId);\n//       setSubmitted(true);\n//       appendLog(`üì¨ Complaint submitted. ID: ${res.data.complaintId}`);\n//     } catch (err) {\n//       appendLog(\"‚ùå Submission error: \" + err.message);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <div className=\"max-w-xl mx-auto mt-10 p-6 bg-white rounded shadow\">\n//       <h2 className=\"text-2xl font-semibold mb-4\">Voice Complaint</h2>\n\n//       {/* Start button */}\n//       <button\n//         onClick={handleVoiceComplaint}\n//         disabled={loading}\n//         className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n//       >\n//         {loading ? \"Processing...\" : \"Start Voice Complaint\"}\n//       </button>\n\n//       {/* Console logs */}\n//       <div className=\"mt-4 bg-gray-900 text-green-200 p-4 rounded font-mono h-48 overflow-y-scroll\">\n//         {logs.length === 0 ? <div>Logs will appear here...</div> : logs.map((l, i) => <div key={i}>{l}</div>)}\n//       </div>\n\n//       {/* Confirmation */}\n//       {submitted && (\n//         <div className=\"mt-6 text-green-700 font-semibold\">\n//           Complaint submitted successfully!<br />\n//           Your Complaint ID: <span className=\"font-bold\">{complaintId}</span>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Mic, MicOff, Volume2, VolumeX, User, Bot, CheckCircle, AlertCircle, Clock } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function VoiceComplaint() {\n  _s();\n  const [conversation, setConversation] = useState([]);\n  const [isListening, setIsListening] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [sessionActive, setSessionActive] = useState(false);\n  const [complaintId, setComplaintId] = useState(null);\n  const [complaintStatus, setComplaintStatus] = useState('idle'); // idle, collecting, processing, completed\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [currentStep, setCurrentStep] = useState('');\n  const conversationRef = useRef(null);\n  const eventSourceRef = useRef(null);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (conversationRef.current) {\n      conversationRef.current.scrollTop = conversationRef.current.scrollHeight;\n    }\n  }, [conversation]);\n  const addMessage = (sender, message, type = 'text', metadata = {}) => {\n    const newMessage = {\n      id: Date.now(),\n      sender,\n      // 'bot' or 'user'\n      message,\n      type,\n      // 'text', 'status', 'json', 'error'\n      timestamp: new Date(),\n      metadata\n    };\n    setConversation(prev => [...prev, newMessage]);\n  };\n  const startVoiceComplaint = async () => {\n    try {\n      setSessionActive(true);\n      setComplaintStatus('collecting');\n      setConversation([]);\n      addMessage('bot', '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§ú‡§®‡§§‡§æ‡§µ‡•â‡§á‡§∏ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§¨‡§§‡§æ‡§è‡§Ç‡•§', 'status');\n\n      // Start SSE connection for real-time updates\n      eventSourceRef.current = new EventSource('http://localhost:5000/api/voice-complaint-stream');\n      eventSourceRef.current.onmessage = event => {\n        const data = JSON.parse(event.data);\n        handleRealtimeUpdate(data);\n      };\n      eventSourceRef.current.onerror = error => {\n        console.error('SSE Error:', error);\n        addMessage('bot', '‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§', 'error');\n        stopSession();\n      };\n\n      // Also trigger the backend process\n      await fetch('http://localhost:5000/api/start-voice-session', {\n        method: 'POST'\n      });\n    } catch (error) {\n      console.error('Error starting voice complaint:', error);\n      addMessage('bot', '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à‡•§', 'error');\n      setSessionActive(false);\n    }\n  };\n  const handleRealtimeUpdate = data => {\n    switch (data.type) {\n      case 'bot_question':\n        setIsSpeaking(true);\n        setCurrentStep(data.step || '');\n        addMessage('bot', data.message, 'text', {\n          step: data.step\n        });\n        setTimeout(() => setIsSpeaking(false), 2000); // Simulate speaking time\n        break;\n      case 'listening_start':\n        setIsListening(true);\n        setCurrentStep('‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§∏‡•Å‡§® ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');\n        break;\n      case 'listening_end':\n        setIsListening(false);\n        setIsProcessing(true);\n        setCurrentStep('‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡§Æ‡§ù ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');\n        break;\n      case 'user_response':\n        setIsProcessing(false);\n        addMessage('user', data.message, 'text');\n        setCurrentStep('');\n        break;\n      case 'processing':\n        setIsProcessing(true);\n        setCurrentStep(data.message || '‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó...');\n        break;\n      case 'complaint_data':\n        setComplaintStatus('processing');\n        addMessage('bot', '‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£:', 'status');\n        addMessage('bot', JSON.stringify(data.data, null, 2), 'json', {\n          complaintData: data.data\n        });\n        break;\n      case 'complaint_submitted':\n        setComplaintStatus('completed');\n        setComplaintId(data.complaintId);\n        addMessage('bot', `‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§¶‡§∞‡•ç‡§ú ‡§π‡•ã ‡§ó‡§à ‡§π‡•à!`, 'status');\n        addMessage('bot', `‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§®‡§Ç‡§¨‡§∞: ${data.complaintId}`, 'text', {\n          complaintId: data.complaintId\n        });\n        setCurrentStep('‡§™‡•Ç‡§∞‡•ç‡§£');\n        stopSession();\n        break;\n      case 'summary':\n        addMessage('bot', data.message, 'status');\n        break;\n      case 'final_message':\n        addMessage('bot', data.message, 'status');\n        break;\n      case 'error':\n        addMessage('bot', data.message, 'error');\n        break;\n      default:\n        console.log('Unknown message type:', data);\n    }\n  };\n  const stopSession = () => {\n    if (eventSourceRef.current) {\n      eventSourceRef.current.close();\n      eventSourceRef.current = null;\n    }\n    setSessionActive(false);\n    setIsListening(false);\n    setIsProcessing(false);\n    setIsSpeaking(false);\n    setCurrentStep('');\n  };\n  const manualStop = async () => {\n    try {\n      await fetch('http://localhost:5000/api/stop-voice-session', {\n        method: 'POST'\n      });\n      stopSession();\n      addMessage('bot', '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∞‡•ã‡§ï ‡§¶‡•Ä ‡§ó‡§à ‡§π‡•à‡•§', 'status');\n    } catch (error) {\n      console.error('Error stopping session:', error);\n      stopSession();\n    }\n  };\n  const formatMessage = msg => {\n    if (msg.type === 'json') {\n      try {\n        const data = JSON.parse(msg.message);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-blue-800 mb-2\",\n            children: \"\\u0936\\u093F\\u0915\\u093E\\u092F\\u0924 \\u0915\\u093E \\u0935\\u093F\\u0935\\u0930\\u0923:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1 text-sm\",\n            children: [data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u0928\\u093E\\u092E:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 20\n              }, this), \" \", data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), data[\"‡§∏‡•ç‡§•‡§æ‡§®\"] && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u0938\\u094D\\u0925\\u093E\\u0928:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 20\n              }, this), \" \", data[\"‡§∏‡•ç‡§•‡§æ‡§®\"]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this), data[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"] && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u0935\\u093F\\u092D\\u093E\\u0917:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 20\n              }, this), \" \", data[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u0936\\u093F\\u0915\\u093E\\u092F\\u0924:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 20\n              }, this), \" \", data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), data[\"‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞\"] && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"\\u092E\\u094B\\u092C\\u093E\\u0907\\u0932:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 20\n              }, this), \" \", data[\"‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞\"]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this);\n      } catch (e) {\n        return /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"text-xs bg-gray-100 p-2 rounded overflow-x-auto\",\n          children: msg.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 16\n        }, this);\n      }\n    }\n    return msg.message;\n  };\n  const getMessageIcon = msg => {\n    if (msg.sender === 'bot') {\n      if (msg.type === 'error') return /*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"w-5 h-5 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 40\n      }, this);\n      if (msg.type === 'status') return /*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"w-5 h-5 text-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 41\n      }, this);\n      return /*#__PURE__*/_jsxDEV(Bot, {\n        className: \"w-5 h-5 text-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(User, {\n      className: \"w-5 h-5 text-purple-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 12\n    }, this);\n  };\n  const getStatusColor = () => {\n    switch (complaintStatus) {\n      case 'collecting':\n        return 'text-blue-600 bg-blue-100';\n      case 'processing':\n        return 'text-yellow-600 bg-yellow-100';\n      case 'completed':\n        return 'text-green-600 bg-green-100';\n      default:\n        return 'text-gray-600 bg-gray-100';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto mt-6 p-6 bg-white rounded-xl shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"\\u0906\\u0935\\u093E\\u091C\\u093C \\u0926\\u094D\\u0935\\u093E\\u0930\\u093E \\u0936\\u093F\\u0915\\u093E\\u092F\\u0924\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-1\",\n          children: \"\\u0939\\u093F\\u0902\\u0926\\u0940 \\u092E\\u0947\\u0902 \\u0905\\u092A\\u0928\\u0940 \\u0936\\u093F\\u0915\\u093E\\u092F\\u0924 \\u092C\\u0924\\u093E\\u090F\\u0902\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAudioEnabled(!audioEnabled),\n          className: `p-2 rounded-full ${audioEnabled ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}`,\n          children: audioEnabled ? /*#__PURE__*/_jsxDEV(Volume2, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(VolumeX, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex items-center justify-between p-4 rounded-lg mb-6 ${getStatusColor()}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [isListening && /*#__PURE__*/_jsxDEV(Mic, {\n            className: \"w-5 h-5 animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 29\n          }, this), isSpeaking && /*#__PURE__*/_jsxDEV(Volume2, {\n            className: \"w-5 h-5 animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 28\n          }, this), isProcessing && /*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-5 h-5 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: currentStep || (sessionActive ? '‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø' : '‡§§‡•à‡§Ø‡§æ‡§∞')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm\",\n        children: [\"\\u0938\\u094D\\u0925\\u093F\\u0924\\u093F: \", complaintStatus === 'idle' ? '‡§§‡•à‡§Ø‡§æ‡§∞' : complaintStatus === 'collecting' ? '‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§è‡§ï‡§§‡•ç‡§∞ ‡§ï‡§∞‡§®‡§æ' : complaintStatus === 'processing' ? '‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó' : '‡§™‡•Ç‡§∞‡•ç‡§£']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center space-x-4 mb-6\",\n      children: !sessionActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startVoiceComplaint,\n        className: \"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium\",\n        children: [/*#__PURE__*/_jsxDEV(Mic, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0936\\u093F\\u0915\\u093E\\u092F\\u0924 \\u0936\\u0941\\u0930\\u0942 \\u0915\\u0930\\u0947\\u0902\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: manualStop,\n        className: \"flex items-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors font-medium\",\n        children: [/*#__PURE__*/_jsxDEV(MicOff, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0930\\u094B\\u0915\\u0947\\u0902\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: conversationRef,\n      className: \"bg-gray-50 rounded-lg p-4 h-96 overflow-y-auto border border-gray-200\",\n      children: conversation.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-full text-gray-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Bot, {\n            className: \"w-12 h-12 mx-auto mb-3 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u092C\\u093E\\u0924\\u091A\\u0940\\u0924 \\u092F\\u0939\\u093E\\u0901 \\u0926\\u093F\\u0916\\u093E\\u0908 \\u091C\\u093E\\u090F\\u0917\\u0940...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: conversation.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-start space-x-3 ${msg.sender === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-shrink-0 p-2 rounded-full ${msg.sender === 'user' ? 'bg-purple-100' : msg.type === 'error' ? 'bg-red-100' : msg.type === 'status' ? 'bg-green-100' : 'bg-blue-100'}`,\n            children: getMessageIcon(msg)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-1 ${msg.sender === 'user' ? 'text-right' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `inline-block p-3 rounded-lg max-w-xs lg:max-w-md ${msg.sender === 'user' ? 'bg-purple-600 text-white' : msg.type === 'error' ? 'bg-red-100 text-red-800' : msg.type === 'status' ? 'bg-green-100 text-green-800' : 'bg-white text-gray-800 border border-gray-200'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"break-words\",\n                children: formatMessage(msg)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-xs text-gray-500 mt-1 ${msg.sender === 'user' ? 'text-right' : ''}`,\n              children: msg.timestamp.toLocaleTimeString('hi-IN')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }, this)]\n        }, msg.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this), sessionActive && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 flex items-center justify-center space-x-4 text-sm text-gray-600\",\n      children: [isListening && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 bg-green-100 px-3 py-1 rounded-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-2 h-2 bg-green-500 rounded-full animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0938\\u0941\\u0928 \\u0930\\u0939\\u0947 \\u0939\\u0948\\u0902...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 13\n      }, this), isSpeaking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 bg-blue-100 px-3 py-1 rounded-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u092C\\u094B\\u0932 \\u0930\\u0939\\u0947 \\u0939\\u0948\\u0902...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 13\n      }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 bg-yellow-100 px-3 py-1 rounded-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-2 h-2 bg-yellow-500 rounded-full animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0938\\u092E\\u091D \\u0930\\u0939\\u0947 \\u0939\\u0948\\u0902...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 9\n    }, this), complaintId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-green-800\",\n            children: \"\\u0936\\u093F\\u0915\\u093E\\u092F\\u0924 \\u0938\\u092B\\u0932\\u0924\\u093E\\u092A\\u0942\\u0930\\u094D\\u0935\\u0915 \\u0926\\u0930\\u094D\\u091C!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-green-700 mt-1\",\n            children: [\"\\u0906\\u092A\\u0915\\u093E \\u0936\\u093F\\u0915\\u093E\\u092F\\u0924 \\u0928\\u0902\\u092C\\u0930: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-mono font-bold\",\n              children: complaintId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-8 h-8 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 395,\n    columnNumber: 5\n  }, this);\n}\n_s(VoiceComplaint, \"A9RlBZ1megsTsSV+sjWJ1MQxmAI=\");\n_c = VoiceComplaint;\nvar _c;\n$RefreshReg$(_c, \"VoiceComplaint\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Mic","MicOff","Volume2","VolumeX","User","Bot","CheckCircle","AlertCircle","Clock","jsxDEV","_jsxDEV","VoiceComplaint","_s","conversation","setConversation","isListening","setIsListening","isProcessing","setIsProcessing","isSpeaking","setIsSpeaking","sessionActive","setSessionActive","complaintId","setComplaintId","complaintStatus","setComplaintStatus","audioEnabled","setAudioEnabled","currentStep","setCurrentStep","conversationRef","eventSourceRef","current","scrollTop","scrollHeight","addMessage","sender","message","type","metadata","newMessage","id","Date","now","timestamp","prev","startVoiceComplaint","EventSource","onmessage","event","data","JSON","parse","handleRealtimeUpdate","onerror","error","console","stopSession","fetch","method","step","setTimeout","stringify","complaintData","log","close","manualStop","formatMessage","msg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","e","getMessageIcon","getStatusColor","onClick","ref","length","map","toLocaleTimeString","_c","$RefreshReg$"],"sources":["D:/Kunal Files/projects/janta_voice_final/frontend/src/pages/VoiceComplaint.jsx"],"sourcesContent":["// // import React, { useState } from \"react\";\r\n// // import axios from \"axios\";\r\n\r\n// // export default function VoiceComplaint() {\r\n// //   const [logs, setLogs] = useState([]);\r\n// //   const [loading, setLoading] = useState(false);\r\n// //   const [complaintId, setComplaintId] = useState(null);\r\n// //   const [submitted, setSubmitted] = useState(false);\r\n\r\n// //   const appendLog = (line) => {\r\n// //     setLogs((prev) => [...prev, line]);\r\n// //   };\r\n\r\n// //   const handleVoiceComplaint = async () => {\r\n// //     setLoading(true);\r\n// //     setLogs([\"üéôÔ∏è Voice complaint started...\"]);\r\n// //     setSubmitted(false);\r\n// //     setComplaintId(null);\r\n\r\n// //     try {\r\n// //       // 1. Trigger the Python voice bot and get structured data\r\n// //       const voiceRes = await axios.get(\"http://localhost:5000/api/\");\r\n// //       if (voiceRes.data.status !== \"success\") {\r\n// //         appendLog(\"‚ùå Voice bot error: \" + voiceRes.data.message);\r\n// //         return;\r\n// //       }\r\n\r\n// //       const complaintData = voiceRes.data.data;\r\n// //       appendLog(\"‚úÖ Voice bot finished. Data:\");\r\n// //       appendLog(JSON.stringify(complaintData, null, 2));\r\n\r\n// //       // 2. Send that same data to the complaints endpoint\r\n// //       const formRes = await axios.post(\r\n// //         \"http://localhost:5000/api/complaint\",\r\n// //         {\r\n// //           name: complaintData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] || complaintData.name,\r\n// //           complaint: complaintData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] || complaintData.complaint,\r\n// //           location: complaintData[\"‡§∏‡•ç‡§•‡§æ‡§®\"] || complaintData.location,\r\n// //           // map any other fields if needed\r\n// //         }\r\n// //       );\r\n\r\n// //       // 3. Capture and display the Complaint ID\r\n// //       const newId = formRes.data.complaintId || formRes.data.complaintId;\r\n// //       setComplaintId(newId);\r\n// //       setSubmitted(true);\r\n// //       appendLog(`üì¨ Complaint submitted. ID: ${newId}`);\r\n// //     } catch (err) {\r\n// //       appendLog(\"‚ùå Error: \" + err.message);\r\n// //     } finally {\r\n// //       setLoading(false);\r\n// //     }\r\n// //   };\r\n\r\n// //   return (\r\n// //     <div className=\"max-w-xl mx-auto mt-10 p-6 bg-white rounded shadow\">\r\n// //       <h2 className=\"text-2xl font-semibold mb-4\">Voice Complaint</h2>\r\n// //       <button\r\n// //         onClick={handleVoiceComplaint}\r\n// //         disabled={loading}\r\n// //         className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\r\n// //       >\r\n// //         {loading ? \"Processing...\" : \"Start Voice Complaint\"}\r\n// //       </button>\r\n\r\n// //       <div className=\"mt-6 bg-gray-900 text-green-200 p-4 rounded font-mono h-48 overflow-y-scroll\">\r\n// //         {logs.map((line, i) => (\r\n// //           <div key={i}>{line}</div>\r\n// //         ))}\r\n// //       </div>\r\n\r\n// //       {submitted && (\r\n// //         <div className=\"mt-6 text-green-700 font-semibold\">\r\n// //           Complaint submitted successfully!<br />\r\n// //           Your Complaint ID: <span className=\"font-bold\">{complaintId}</span>\r\n// //         </div>\r\n// //       )}\r\n// //     </div>\r\n// //   );\r\n// // }\r\n\r\n\r\n\r\n// import React, { useState } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// export default function VoiceComplaint() {\r\n//   // 1. State mirrors ComplaintForm\r\n//   const [formData, setFormData] = useState({\r\n//     name: \"\",\r\n//     complaint: \"\",\r\n//     location: \"\",\r\n//     urgency: \"normal\",\r\n//   });\r\n\r\n//   const [complaintId, setComplaintId] = useState(null);\r\n//   const [submitted, setSubmitted] = useState(false);\r\n//   const [logs, setLogs] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   // helper to append to console‚Äëstyle logs\r\n//   const appendLog = (line) => setLogs((prev) => [...prev, line]);\r\n\r\n//   const handleVoiceComplaint = async () => {\r\n//     setLoading(true);\r\n//     setLogs([\"üéôÔ∏è Starting voice complaint...\"]);\r\n//     setSubmitted(false);\r\n//     setComplaintId(null);\r\n\r\n//     try {\r\n//       // 2. Trigger your backend voice route\r\n//       const voiceRes = await axios.get(\"http://localhost:5000/api/voice-complaint\");\r\n//       if (voiceRes.data.status !== \"success\") {\r\n//         appendLog(\"Thank You!\");\r\n//         return;\r\n//       }\r\n\r\n//       // 3. Pull out structured data\r\n//       const data = voiceRes.data.data;\r\n//       appendLog(\"‚úÖ Voice data received:\");\r\n//       appendLog(JSON.stringify(data, null, 2));\r\n\r\n\r\n//       // // 4. Map it into the exact same formData shape\r\n//       // const mapped = {\r\n//       //   name: data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] || \"\",\r\n//       //   location: data[\"‡§∏‡•ç‡§•‡§æ‡§®\"] || \"\",\r\n//       //   department: data[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"] || \"\",\r\n//       //   description: data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] || \"\",\r\n//       //   urgency: \"normal\",\r\n//       // };\r\n\r\n//       const aiData = voiceRes.data.data;\r\n\r\n//       const payload = {\r\n//         name: aiData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] || \"\",\r\n//         location: aiData[\"‡§∏‡•ç‡§•‡§æ‡§®\"] || \"\",\r\n//         department: aiData[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"] || \"\",\r\n//         description: aiData[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] || \"\",\r\n//       };\r\n\r\n//       await axios.post(\"http://localhost:5000/api/complaint\", payload);\r\n\r\n\r\n//       setFormData(mapped);\r\n\r\n//       // 5. POST to the same endpoint as ComplaintForm\r\n//       const res = await axios.post(\"http://localhost:5000/api/complaint\", mapped);\r\n//       setComplaintId(res.data.complaintId);\r\n//       setSubmitted(true);\r\n//       appendLog(`üì¨ Complaint submitted. ID: ${res.data.complaintId}`);\r\n//     } catch (err) {\r\n//       appendLog(\"‚ùå Submission error: \" + err.message);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"max-w-xl mx-auto mt-10 p-6 bg-white rounded shadow\">\r\n//       <h2 className=\"text-2xl font-semibold mb-4\">Voice Complaint</h2>\r\n\r\n//       {/* Start button */}\r\n//       <button\r\n//         onClick={handleVoiceComplaint}\r\n//         disabled={loading}\r\n//         className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\r\n//       >\r\n//         {loading ? \"Processing...\" : \"Start Voice Complaint\"}\r\n//       </button>\r\n\r\n//       {/* Console logs */}\r\n//       <div className=\"mt-4 bg-gray-900 text-green-200 p-4 rounded font-mono h-48 overflow-y-scroll\">\r\n//         {logs.length === 0 ? <div>Logs will appear here...</div> : logs.map((l, i) => <div key={i}>{l}</div>)}\r\n//       </div>\r\n\r\n//       {/* Confirmation */}\r\n//       {submitted && (\r\n//         <div className=\"mt-6 text-green-700 font-semibold\">\r\n//           Complaint submitted successfully!<br />\r\n//           Your Complaint ID: <span className=\"font-bold\">{complaintId}</span>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { Mic, MicOff, Volume2, VolumeX, User, Bot, CheckCircle, AlertCircle, Clock } from \"lucide-react\";\r\n\r\nexport default function VoiceComplaint() {\r\n  const [conversation, setConversation] = useState([]);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [sessionActive, setSessionActive] = useState(false);\r\n  const [complaintId, setComplaintId] = useState(null);\r\n  const [complaintStatus, setComplaintStatus] = useState('idle'); // idle, collecting, processing, completed\r\n  const [audioEnabled, setAudioEnabled] = useState(true);\r\n  const [currentStep, setCurrentStep] = useState('');\r\n  \r\n  const conversationRef = useRef(null);\r\n  const eventSourceRef = useRef(null);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    if (conversationRef.current) {\r\n      conversationRef.current.scrollTop = conversationRef.current.scrollHeight;\r\n    }\r\n  }, [conversation]);\r\n\r\n  const addMessage = (sender, message, type = 'text', metadata = {}) => {\r\n    const newMessage = {\r\n      id: Date.now(),\r\n      sender, // 'bot' or 'user'\r\n      message,\r\n      type, // 'text', 'status', 'json', 'error'\r\n      timestamp: new Date(),\r\n      metadata\r\n    };\r\n    setConversation(prev => [...prev, newMessage]);\r\n  };\r\n\r\n  const startVoiceComplaint = async () => {\r\n    try {\r\n      setSessionActive(true);\r\n      setComplaintStatus('collecting');\r\n      setConversation([]);\r\n      \r\n      addMessage('bot', '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§ú‡§®‡§§‡§æ‡§µ‡•â‡§á‡§∏ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§¨‡§§‡§æ‡§è‡§Ç‡•§', 'status');\r\n      \r\n      // Start SSE connection for real-time updates\r\n      eventSourceRef.current = new EventSource('http://localhost:5000/api/voice-complaint-stream');\r\n      \r\n      eventSourceRef.current.onmessage = (event) => {\r\n        const data = JSON.parse(event.data);\r\n        handleRealtimeUpdate(data);\r\n      };\r\n\r\n      eventSourceRef.current.onerror = (error) => {\r\n        console.error('SSE Error:', error);\r\n        addMessage('bot', '‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§', 'error');\r\n        stopSession();\r\n      };\r\n\r\n      // Also trigger the backend process\r\n      await fetch('http://localhost:5000/api/start-voice-session', { method: 'POST' });\r\n      \r\n    } catch (error) {\r\n      console.error('Error starting voice complaint:', error);\r\n      addMessage('bot', '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à‡•§', 'error');\r\n      setSessionActive(false);\r\n    }\r\n  };\r\n\r\n  const handleRealtimeUpdate = (data) => {\r\n    switch (data.type) {\r\n      case 'bot_question':\r\n        setIsSpeaking(true);\r\n        setCurrentStep(data.step || '');\r\n        addMessage('bot', data.message, 'text', { step: data.step });\r\n        setTimeout(() => setIsSpeaking(false), 2000); // Simulate speaking time\r\n        break;\r\n        \r\n      case 'listening_start':\r\n        setIsListening(true);\r\n        setCurrentStep('‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§∏‡•Å‡§® ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');\r\n        break;\r\n        \r\n      case 'listening_end':\r\n        setIsListening(false);\r\n        setIsProcessing(true);\r\n        setCurrentStep('‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡§Æ‡§ù ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');\r\n        break;\r\n        \r\n      case 'user_response':\r\n        setIsProcessing(false);\r\n        addMessage('user', data.message, 'text');\r\n        setCurrentStep('');\r\n        break;\r\n        \r\n      case 'processing':\r\n        setIsProcessing(true);\r\n        setCurrentStep(data.message || '‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó...');\r\n        break;\r\n        \r\n      case 'complaint_data':\r\n        setComplaintStatus('processing');\r\n        addMessage('bot', '‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£:', 'status');\r\n        addMessage('bot', JSON.stringify(data.data, null, 2), 'json', { complaintData: data.data });\r\n        break;\r\n        \r\n      case 'complaint_submitted':\r\n        setComplaintStatus('completed');\r\n        setComplaintId(data.complaintId);\r\n        addMessage('bot', `‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§¶‡§∞‡•ç‡§ú ‡§π‡•ã ‡§ó‡§à ‡§π‡•à!`, 'status');\r\n        addMessage('bot', `‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§®‡§Ç‡§¨‡§∞: ${data.complaintId}`, 'text', { complaintId: data.complaintId });\r\n        setCurrentStep('‡§™‡•Ç‡§∞‡•ç‡§£');\r\n        stopSession();\r\n        break;\r\n        \r\n      case 'summary':\r\n        addMessage('bot', data.message, 'status');\r\n        break;\r\n        \r\n      case 'final_message':\r\n        addMessage('bot', data.message, 'status');\r\n        break;\r\n        \r\n      case 'error':\r\n        addMessage('bot', data.message, 'error');\r\n        break;\r\n        \r\n      default:\r\n        console.log('Unknown message type:', data);\r\n    }\r\n  };\r\n\r\n  const stopSession = () => {\r\n    if (eventSourceRef.current) {\r\n      eventSourceRef.current.close();\r\n      eventSourceRef.current = null;\r\n    }\r\n    setSessionActive(false);\r\n    setIsListening(false);\r\n    setIsProcessing(false);\r\n    setIsSpeaking(false);\r\n    setCurrentStep('');\r\n  };\r\n\r\n  const manualStop = async () => {\r\n    try {\r\n      await fetch('http://localhost:5000/api/stop-voice-session', { method: 'POST' });\r\n      stopSession();\r\n      addMessage('bot', '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∞‡•ã‡§ï ‡§¶‡•Ä ‡§ó‡§à ‡§π‡•à‡•§', 'status');\r\n    } catch (error) {\r\n      console.error('Error stopping session:', error);\r\n      stopSession();\r\n    }\r\n  };\r\n\r\n  const formatMessage = (msg) => {\r\n    if (msg.type === 'json') {\r\n      try {\r\n        const data = JSON.parse(msg.message);\r\n        return (\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2\">\r\n            <h4 className=\"font-semibold text-blue-800 mb-2\">‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£:</h4>\r\n            <div className=\"space-y-1 text-sm\">\r\n              {data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"] && (\r\n                <p><span className=\"font-medium\">‡§®‡§æ‡§Æ:</span> {data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ\"]}</p>\r\n              )}\r\n              {data[\"‡§∏‡•ç‡§•‡§æ‡§®\"] && (\r\n                <p><span className=\"font-medium\">‡§∏‡•ç‡§•‡§æ‡§®:</span> {data[\"‡§∏‡•ç‡§•‡§æ‡§®\"]}</p>\r\n              )}\r\n              {data[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"] && (\r\n                <p><span className=\"font-medium\">‡§µ‡§ø‡§≠‡§æ‡§ó:</span> {data[\"‡§µ‡§ø‡§≠‡§æ‡§ó\"]}</p>\r\n              )}\r\n              {data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"] && (\r\n                <p><span className=\"font-medium\">‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§:</span> {data[\"‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§\"]}</p>\r\n              )}\r\n              {data[\"‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞\"] && (\r\n                <p><span className=\"font-medium\">‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:</span> {data[\"‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞\"]}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      } catch (e) {\r\n        return <pre className=\"text-xs bg-gray-100 p-2 rounded overflow-x-auto\">{msg.message}</pre>;\r\n      }\r\n    }\r\n    return msg.message;\r\n  };\r\n\r\n  const getMessageIcon = (msg) => {\r\n    if (msg.sender === 'bot') {\r\n      if (msg.type === 'error') return <AlertCircle className=\"w-5 h-5 text-red-500\" />;\r\n      if (msg.type === 'status') return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\r\n      return <Bot className=\"w-5 h-5 text-blue-500\" />;\r\n    }\r\n    return <User className=\"w-5 h-5 text-purple-500\" />;\r\n  };\r\n\r\n  const getStatusColor = () => {\r\n    switch (complaintStatus) {\r\n      case 'collecting': return 'text-blue-600 bg-blue-100';\r\n      case 'processing': return 'text-yellow-600 bg-yellow-100';\r\n      case 'completed': return 'text-green-600 bg-green-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto mt-6 p-6 bg-white rounded-xl shadow-lg\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-gray-900\">‡§Ü‡§µ‡§æ‡§ú‡§º ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§</h2>\r\n          <p className=\"text-gray-600 mt-1\">‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§®‡•Ä ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§¨‡§§‡§æ‡§è‡§Ç</p>\r\n        </div>\r\n        <div className=\"flex items-center space-x-3\">\r\n          <button\r\n            onClick={() => setAudioEnabled(!audioEnabled)}\r\n            className={`p-2 rounded-full ${audioEnabled ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}`}\r\n          >\r\n            {audioEnabled ? <Volume2 className=\"w-5 h-5\" /> : <VolumeX className=\"w-5 h-5\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Bar */}\r\n      <div className={`flex items-center justify-between p-4 rounded-lg mb-6 ${getStatusColor()}`}>\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            {isListening && <Mic className=\"w-5 h-5 animate-pulse\" />}\r\n            {isSpeaking && <Volume2 className=\"w-5 h-5 animate-pulse\" />}\r\n            {isProcessing && <Clock className=\"w-5 h-5 animate-spin\" />}\r\n            <span className=\"font-medium\">\r\n              {currentStep || (sessionActive ? '‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø' : '‡§§‡•à‡§Ø‡§æ‡§∞')}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-sm\">\r\n          ‡§∏‡•ç‡§•‡§ø‡§§‡§ø: {complaintStatus === 'idle' ? '‡§§‡•à‡§Ø‡§æ‡§∞' : \r\n                   complaintStatus === 'collecting' ? '‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§è‡§ï‡§§‡•ç‡§∞ ‡§ï‡§∞‡§®‡§æ' :\r\n                   complaintStatus === 'processing' ? '‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó' : '‡§™‡•Ç‡§∞‡•ç‡§£'}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Control Buttons */}\r\n      <div className=\"flex justify-center space-x-4 mb-6\">\r\n        {!sessionActive ? (\r\n          <button\r\n            onClick={startVoiceComplaint}\r\n            className=\"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n          >\r\n            <Mic className=\"w-5 h-5\" />\r\n            <span>‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</span>\r\n          </button>\r\n        ) : (\r\n          <button\r\n            onClick={manualStop}\r\n            className=\"flex items-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors font-medium\"\r\n          >\r\n            <MicOff className=\"w-5 h-5\" />\r\n            <span>‡§∞‡•ã‡§ï‡•á‡§Ç</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Conversation Area */}\r\n      <div \r\n        ref={conversationRef}\r\n        className=\"bg-gray-50 rounded-lg p-4 h-96 overflow-y-auto border border-gray-200\"\r\n      >\r\n        {conversation.length === 0 ? (\r\n          <div className=\"flex items-center justify-center h-full text-gray-500\">\r\n            <div className=\"text-center\">\r\n              <Bot className=\"w-12 h-12 mx-auto mb-3 text-gray-400\" />\r\n              <p>‡§¨‡§æ‡§§‡§ö‡•Ä‡§§ ‡§Ø‡§π‡§æ‡§Å ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§ú‡§æ‡§è‡§ó‡•Ä...</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {conversation.map((msg) => (\r\n              <div\r\n                key={msg.id}\r\n                className={`flex items-start space-x-3 ${\r\n                  msg.sender === 'user' ? 'flex-row-reverse space-x-reverse' : ''\r\n                }`}\r\n              >\r\n                <div className={`flex-shrink-0 p-2 rounded-full ${\r\n                  msg.sender === 'user' ? 'bg-purple-100' : \r\n                  msg.type === 'error' ? 'bg-red-100' :\r\n                  msg.type === 'status' ? 'bg-green-100' : 'bg-blue-100'\r\n                }`}>\r\n                  {getMessageIcon(msg)}\r\n                </div>\r\n                <div className={`flex-1 ${msg.sender === 'user' ? 'text-right' : ''}`}>\r\n                  <div className={`inline-block p-3 rounded-lg max-w-xs lg:max-w-md ${\r\n                    msg.sender === 'user' \r\n                      ? 'bg-purple-600 text-white' \r\n                      : msg.type === 'error'\r\n                      ? 'bg-red-100 text-red-800'\r\n                      : msg.type === 'status'\r\n                      ? 'bg-green-100 text-green-800'\r\n                      : 'bg-white text-gray-800 border border-gray-200'\r\n                  }`}>\r\n                    <div className=\"break-words\">\r\n                      {formatMessage(msg)}\r\n                    </div>\r\n                  </div>\r\n                  <div className={`text-xs text-gray-500 mt-1 ${\r\n                    msg.sender === 'user' ? 'text-right' : ''\r\n                  }`}>\r\n                    {msg.timestamp.toLocaleTimeString('hi-IN')}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Current Activity Indicator */}\r\n      {sessionActive && (\r\n        <div className=\"mt-4 flex items-center justify-center space-x-4 text-sm text-gray-600\">\r\n          {isListening && (\r\n            <div className=\"flex items-center space-x-2 bg-green-100 px-3 py-1 rounded-full\">\r\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\r\n              <span>‡§∏‡•Å‡§® ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...</span>\r\n            </div>\r\n          )}\r\n          {isSpeaking && (\r\n            <div className=\"flex items-center space-x-2 bg-blue-100 px-3 py-1 rounded-full\">\r\n              <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\r\n              <span>‡§¨‡•ã‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...</span>\r\n            </div>\r\n          )}\r\n          {isProcessing && (\r\n            <div className=\"flex items-center space-x-2 bg-yellow-100 px-3 py-1 rounded-full\">\r\n              <div className=\"w-2 h-2 bg-yellow-500 rounded-full animate-pulse\"></div>\r\n              <span>‡§∏‡§Æ‡§ù ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Final Result */}\r\n      {complaintId && (\r\n        <div className=\"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h3 className=\"font-semibold text-green-800\">‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§¶‡§∞‡•ç‡§ú!</h3>\r\n              <p className=\"text-green-700 mt-1\">\r\n                ‡§Ü‡§™‡§ï‡§æ ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§®‡§Ç‡§¨‡§∞: <span className=\"font-mono font-bold\">{complaintId}</span>\r\n              </p>\r\n            </div>\r\n            <CheckCircle className=\"w-8 h-8 text-green-600\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAEC,GAAG,EAAEC,WAAW,EAAEC,WAAW,EAAEC,KAAK,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzG,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACvC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACoB,Y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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Search,Filter,Eye,Download,RefreshCw,Calendar,Clock,User,MapPin,Building,AlertTriangle,PlusCircle,Package}from\"lucide-react\";import axios from'axios';import CasesByDepartment from\"./CasesByDepartment\";import CasesByCity from\"./CasesByCity\";import MonthlyTrend from\"./MonthlyTrend\";import TopCities from\"./TopCities\";import PickupManagement from\"../components/PickupManagement\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const toNumberOrNull=v=>{const n=Number(v);return Number.isFinite(n)?n:null;};// Agar latitude 90 se bada ho (invalid) aur longitude valid range me ho,\n// to assume karo values swap ho gayi thi ‚Äî display ke liye correct kar do.\nconst normalizeLatLng=(lat,lng)=>{const la=toNumberOrNull(lat);const lo=toNumberOrNull(lng);if(la===null||lo===null)return{lat:null,lng:null,swapped:false};if(Math.abs(la)>90&&Math.abs(lo)<=90)return{lat:lo,lng:la,swapped:true};return{lat:la,lng:lo,swapped:false};};const AdminDashboard=()=>{const[complaints,setComplaints]=useState([]);const[filteredComplaints,setFilteredComplaints]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState(\"\");const[statusFilter,setStatusFilter]=useState(\"All\");const[departmentFilter,setDepartmentFilter]=useState(\"All\");const[dateFilter,setDateFilter]=useState(\"All\");const[selectedComplaint,setSelectedComplaint]=useState(null);const[showModal,setShowModal]=useState(false);const[departments,setDepartments]=useState([]);const[showHistory,setShowHistory]=useState(false);// New state for history toggle\nconst[activeTab,setActiveTab]=useState(\"complaints\");// New state for tab management\n// Reverse geocoded address (modal)\nconst[revAddress,setRevAddress]=useState(null);const[addrLoading,setAddrLoading]=useState(false);const[addrError,setAddrError]=useState(null);const fetchComplaints=async()=>{setLoading(true);try{const res=await axios.get(\"/api/admin/complaints\");const data=res.data;if(data.success){setComplaints(data.complaints);}else{console.error(data.message);}}catch(err){console.error(\"Error fetching complaints:\",err);}finally{setLoading(false);}};useEffect(()=>{fetchComplaints();// Pehli baar data fetch karein jab component load ho\nconst intervalId=setInterval(()=>{fetchComplaints();// Har 10 second mein naya data fetch karein\n},10000);// 10000 milliseconds = 10 seconds\nreturn()=>clearInterval(intervalId);},[]);// Filter complaints based on search and filters\nuseEffect(()=>{// Dynamic departments list yahaan update hogi\nconst uniqueDepartments=[...new Set(complaints.map(c=>c.department).filter(Boolean))];setDepartments(uniqueDepartments);let filtered=complaints;// Search filter\nif(searchTerm){filtered=filtered.filter(c=>{var _c$name,_c$location,_c$department,_c$description,_c$id;return((_c$name=c.name)===null||_c$name===void 0?void 0:_c$name.toLowerCase().includes(searchTerm.toLowerCase()))||((_c$location=c.location)===null||_c$location===void 0?void 0:_c$location.toLowerCase().includes(searchTerm.toLowerCase()))||((_c$department=c.department)===null||_c$department===void 0?void 0:_c$department.toLowerCase().includes(searchTerm.toLowerCase()))||((_c$description=c.description)===null||_c$description===void 0?void 0:_c$description.toLowerCase().includes(searchTerm.toLowerCase()))||((_c$id=c.id)===null||_c$id===void 0?void 0:_c$id.toLowerCase().includes(searchTerm.toLowerCase()));});}// Status filter\nif(statusFilter!==\"All\"){filtered=filtered.filter(c=>c.status===statusFilter);}// Department filter\nif(departmentFilter!==\"All\"){filtered=filtered.filter(c=>c.department===departmentFilter);}// Date filter\nif(dateFilter!==\"All\"){const now=new Date();filtered=filtered.filter(c=>{const complaintDate=new Date(c.timestamp);switch(dateFilter){case\"Today\":return complaintDate.toDateString()===now.toDateString();case\"This Week\":const weekAgo=new Date(now.getTime()-7*24*60*60*1000);return complaintDate>=weekAgo;case\"This Month\":return complaintDate.getMonth()===now.getMonth()&&complaintDate.getFullYear()===now.getFullYear();default:return true;}});}setFilteredComplaints(filtered);},[complaints,searchTerm,statusFilter,departmentFilter,dateFilter]);const handleStatusChange=async(id,newStatus)=>{try{const res=await axios.post(\"/api/admin/update_status\",{id,status:newStatus});const data=res.data;if(data.success){setComplaints(prev=>prev.map(c=>c.id===id?{...c,status:newStatus}:c));}else{alert(data.message);}}catch(err){console.error(\"Error updating status:\",err);}};const getStatusColor=status=>{switch(status){case\"Resolved\":return\"bg-green-100 text-green-800 border-green-200\";case\"Processing\":return\"bg-yellow-100 text-yellow-800 border-yellow-200\";case\"Pending\":return\"bg-red-100 text-red-800 border-red-200\";default:return\"bg-gray-100 text-gray-800 border-gray-200\";}};const getUrgencyColor=urgency=>{switch(urgency===null||urgency===void 0?void 0:urgency.toLowerCase()){case\"high\":return\"bg-red-500 text-white\";case\"medium\":return\"bg-yellow-500 text-white\";case\"low\":return\"bg-green-500 text-white\";default:return\"bg-blue-500 text-white\";}};const getPriorityIcon=urgency=>{switch(urgency===null||urgency===void 0?void 0:urgency.toLowerCase()){case\"high\":return/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4\"});default:return null;}};// Calculate statistics\nconst stats={total:complaints.length,pending:complaints.filter(c=>c.status===\"Pending\").length,processing:complaints.filter(c=>c.status===\"Processing\").length,resolved:complaints.filter(c=>c.status===\"Resolved\").length,today:complaints.filter(c=>{const today=new Date().toDateString();return new Date(c.timestamp).toDateString()===today;}).length,thisWeek:complaints.filter(c=>{const weekAgo=new Date(Date.now()-7*24*60*60*1000);return new Date(c.timestamp)>=weekAgo;}).length};const exportToCSV=()=>{const headers=[\"ID\",\"Name\",\"Location\",\"Department\",\"Status\",\"Urgency\",\"Description\",\"Timestamp\",\"Token\"];const csvContent=[headers.join(\",\"),...filteredComplaints.map(c=>{var _c$description2;return[c.id,c.name,c.location,c.department||\"Unknown\",c.status,c.urgency||\"Normal\",`\"${((_c$description2=c.description)===null||_c$description2===void 0?void 0:_c$description2.replace(/\"/g,'\"\"'))||''}\"`,new Date(c.timestamp).toLocaleString(),c.token].join(\",\");})].join(\"\\n\");const blob=new Blob([csvContent],{type:\"text/csv\"});const url=window.URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=`complaints_${new Date().toISOString().split('T')[0]}.csv`;a.click();window.URL.revokeObjectURL(url);};const viewComplaint=complaint=>{setSelectedComplaint(complaint);setShowModal(true);};// üëâ Selected complaint ke lat/lng ko normalize karke rakho\nconst selectedLatLng=selectedComplaint?normalizeLatLng(selectedComplaint.latitude,selectedComplaint.longitude):{lat:null,lng:null,swapped:false};// üëâ Modal open hote hi reverse geocoding (OpenStreetMap/Nominatim)\nuseEffect(()=>{if(!showModal||!selectedComplaint)return;const{lat,lng}=selectedLatLng;if(lat===null||lng===null){setRevAddress(null);setAddrError(null);setAddrLoading(false);return;}setAddrLoading(true);setAddrError(null);setRevAddress(null);fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=16`).then(r=>r.ok?r.json():Promise.reject(new Error(`HTTP ${r.status}`))).then(j=>setRevAddress((j===null||j===void 0?void 0:j.display_name)||null)).catch(()=>setAddrError(\"Address lookup failed\")).finally(()=>setAddrLoading(false));},[showModal,selectedComplaint,selectedLatLng]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-2xl flex items-center justify-center shadow-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:\"\\uD83C\\uDF31\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent\",children:\"EcoSarthi Admin Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"Manage and track all environmental services and pickup requests in your system\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:fetchComplaints,className:\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50\",disabled:loading,children:[/*#__PURE__*/_jsx(RefreshCw,{className:`w-4 h-4 ${loading?'animate-spin':''}`}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportToCSV,className:\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"}),\"Export CSV\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-2 border border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"complaints\"),className:`py-3 px-6 rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-2 ${activeTab===\"complaints\"?\"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg\":\"text-gray-500 hover:text-emerald-600 hover:bg-emerald-50\"}`,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u267B\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Environmental Services\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"pickup\"),className:`py-3 px-6 rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-2 ${activeTab===\"pickup\"?\"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg\":\"text-gray-500 hover:text-emerald-600 hover:bg-emerald-50\"}`,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pickup Management\"})]})]})})}),activeTab===\"complaints\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.total})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Building,{className:\"w-6 h-6 text-blue-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-600\",children:stats.pending})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Clock,{className:\"w-6 h-6 text-red-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Processing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:stats.processing})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-6 h-6 text-yellow-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Resolved\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:stats.resolved})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-6 h-6 text-green-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:stats.today})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"w-6 h-6 text-blue-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"This Week\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:stats.thisWeek})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(MapPin,{className:\"w-6 h-6 text-purple-600\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 cursor-pointer hover:shadow-md transition-shadow\",onClick:()=>setActiveTab(\"pickup\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pickup Requests\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-green-600\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"View in\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"Pickup Tab\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Package,{className:\"w-6 h-6 text-green-600\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search complaints...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Resolved\",children:\"Resolved\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:departmentFilter,onChange:e=>setDepartmentFilter(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All Departments\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept,children:dept},dept))]}),/*#__PURE__*/_jsxs(\"select\",{value:dateFilter,onChange:e=>setDateFilter(e.target.value),className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Today\",children:\"Today\"}),/*#__PURE__*/_jsx(\"option\",{value:\"This Week\",children:\"This Week\"}),/*#__PURE__*/_jsx(\"option\",{value:\"This Month\",children:\"This Month\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Complaint Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location & Department\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status & Priority\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"px-6 py-4 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-6 h-6 animate-spin text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-500\",children:\"Loading...\"})]})})}):filteredComplaints.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"px-6 py-4 text-center text-gray-500\",children:\"No complaints found matching your filters.\"})}):filteredComplaints.filter(c=>c.status!==\"Resolved\")// Only show active complaints\n.map(complaint=>{const ll=normalizeLatLng(complaint.latitude,complaint.longitude);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-blue-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:complaint.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"ID: \",complaint.id]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2 break-words leading-relaxed max-h-20 overflow-y-auto\",children:complaint.description})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-1 text-gray-400\"}),complaint.location]}),ll.lat!==null&&ll.lng!==null&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400 mt-0.5\",children:[\"Lat: \",ll.lat.toFixed(5),\", Lng: \",ll.lng.toFixed(5)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 flex items-center mt-1\",children:[/*#__PURE__*/_jsx(Building,{className:\"w-4 h-4 mr-1 text-gray-400\"}),complaint.department||\"Unknown\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"select\",{value:complaint.status,onChange:e=>handleStatusChange(complaint.id,e.target.value),className:`text-xs px-2 py-1 rounded-full border font-medium ${getStatusColor(complaint.status)}`,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Resolved\",children:\"Resolved\"})]}),complaint.urgency&&/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center text-xs px-2 py-1 rounded-full ${getUrgencyColor(complaint.urgency)}`,children:[getPriorityIcon(complaint.urgency),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:complaint.urgency})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{children:new Date(complaint.timestamp).toLocaleDateString()}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:new Date(complaint.timestamp).toLocaleTimeString()})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>viewComplaint(complaint),className:\"flex items-center text-blue-600 hover:text-blue-800 transition-colors\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 mr-1\"}),\"View\"]})})]},complaint.id);})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-sm text-gray-500 text-center\",children:[\"Showing \",filteredComplaints.length,\" of \",complaints.length,\" complaints\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 mb-6 text-center\",children:\"Analytics Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-700 mb-4\",children:\"Cases by Department\"}),/*#__PURE__*/_jsx(CasesByDepartment,{complaints:complaints})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-700 mb-4\",children:\"Cases by City\"}),/*#__PURE__*/_jsx(CasesByCity,{complaints:complaints})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-700 mb-4\",children:\"Monthly Trend\"}),/*#__PURE__*/_jsx(MonthlyTrend,{complaints:complaints})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-700 mb-4\",children:\"Top Cities\"}),/*#__PURE__*/_jsx(TopCities,{complaints:complaints})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800\",children:\"Resolved Complaints History\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowHistory(!showHistory),className:\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[showHistory?\"Hide History\":\"Show History\",/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 ml-2\"})]})]}),showHistory&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Complaint Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Location & Department\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Resolution Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:complaints.filter(c=>c.status===\"Resolved\").map(complaint=>{const ll=normalizeLatLng(complaint.latitude,complaint.longitude);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-green-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:complaint.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"ID: \",complaint.id]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2 break-words leading-relaxed max-h-20 overflow-y-auto\",children:complaint.description})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-1 text-gray-400\"}),complaint.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 flex items-center mt-1\",children:[/*#__PURE__*/_jsx(Building,{className:\"w-4 h-4 mr-1 text-gray-400\"}),complaint.department||\"Unknown\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{children:new Date(complaint.timestamp).toLocaleDateString()}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:new Date(complaint.timestamp).toLocaleTimeString()})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>viewComplaint(complaint),className:\"flex items-center text-blue-600 hover:text-blue-800 transition-colors\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 mr-1\"}),\"View\"]})})]},complaint.id);})})]})}),complaints.filter(c=>c.status===\"Resolved\").length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No resolved complaints found in history.\"})]})]})]}),activeTab===\"pickup\"&&/*#__PURE__*/_jsx(PickupManagement,{}),showModal&&selectedComplaint&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Complaint Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),className:\"text-gray-400 hover:text-gray-600 text-2xl\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Complaint ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-gray-50 p-2 rounded\",children:selectedComplaint.id})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Token\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-gray-50 p-2 rounded\",children:selectedComplaint.token})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-gray-50 p-2 rounded\",children:selectedComplaint.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Location\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-gray-50 p-2 rounded\",children:selectedComplaint.location||\"‚Äî\"}),selectedLatLng.lat!==null&&selectedLatLng.lng!==null&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Lat: \",selectedLatLng.lat.toFixed(6),\", Lng: \",selectedLatLng.lng.toFixed(6),/*#__PURE__*/_jsx(\"a\",{href:`https://www.google.com/maps?q=${selectedLatLng.lat},${selectedLatLng.lng}`,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 underline ml-2\",children:\"View on Map\"})]}),selectedLatLng.swapped&&/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-orange-500 mt-0.5\",children:\"Note: input looked swapped; auto-corrected for display.\"}),selectedLatLng.lat!==null&&selectedLatLng.lng!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Address\"}),addrLoading&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:\"Fetching address\\u2026\"}),!addrLoading&&addrError&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-red-500\",children:addrError}),!addrLoading&&!addrError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-700\",children:revAddress||\"‚Äî\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Department\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-gray-50 p-2 rounded\",children:selectedComplaint.department||\"Unknown\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-gray-50 p-2 rounded\",children:selectedComplaint.type||\"Text\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:`text-xs px-3 py-1 rounded-full border font-medium ${getStatusColor(selectedComplaint.status)}`,children:selectedComplaint.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Urgency\"}),/*#__PURE__*/_jsx(\"span\",{className:`text-xs px-3 py-1 rounded-full ${getUrgencyColor(selectedComplaint.urgency)}`,children:selectedComplaint.urgency||\"Normal\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900 bg-gray-50 p-3 rounded min-h-[100px]\",children:selectedComplaint.description||\"No description provided\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Photo\"}),selectedComplaint.photoUrl?/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:5000${selectedComplaint.photoUrl}`,alt:\"Complaint\",className:\"w-full max-h-64 object-contain rounded border\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No photo uploaded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-gray-50 p-2 rounded\",children:new Date(selectedComplaint.timestamp).toLocaleString()})]})]})]})})})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","Search","Filter","Eye","Download","RefreshCw","Calendar","Clock","User","MapPin","Building","AlertTriangle","PlusCircle","Package","axios","CasesByDepartment","CasesByCity","MonthlyTrend","TopCities","PickupManagement","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","toNumberOrNull","v","n","Number","isFinite","normalizeLatLng","lat","lng","la","lo","swapped","Math","abs","AdminDashboard","complaints","setComplaints","filteredComplaints","setFilteredComplaints","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","departmentFilter","setDepartmentFilter","dateFilter","setDateFilter","selectedComplaint","setSelectedComplaint","showModal","setShowModal","departments","setDepartments","showHistory","setShowHistory","activeTab","setActiveTab","revAddress","setRevAddress","addrLoading","setAddrLoading","addrError","setAddrError","fetchComplaints","res","get","data","success","console","error","message","err","intervalId","setInterval","clearInterval","uniqueDepartments","Set","map","c","department","filter","Boolean","filtered","_c$name","_c$location","_c$department","_c$description","_c$id","name","toLowerCase","includes","location","description","id","status","now","Date","complaintDate","timestamp","toDateString","weekAgo","getTime","getMonth","getFullYear","handleStatusChange","newStatus","post","prev","alert","getStatusColor","getUrgencyColor","urgency","getPriorityIcon","className","stats","total","length","pending","processing","resolved","today","thisWeek","exportToCSV","headers","csvContent","join","_c$description2","replace","toLocaleString","token","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","toISOString","split","click","revokeObjectURL","viewComplaint","complaint","selectedLatLng","latitude","longitude","fetch","then","r","ok","json","Promise","reject","Error","j","display_name","catch","finally","children","onClick","disabled","placeholder","value","onChange","e","target","dept","colSpan","ll","toFixed","toLocaleDateString","toLocaleTimeString","rel","photoUrl","src","alt"],"sources":["C:/Users/Lenovo/Documents/EcoSarthi-main/frontend/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Search, Filter, Eye, Download, RefreshCw, Calendar, Clock, User, MapPin, Building, AlertTriangle, PlusCircle, Package } from \"lucide-react\";\nimport axios from 'axios';\nimport CasesByDepartment from \"./CasesByDepartment\";\nimport CasesByCity from \"./CasesByCity\";\nimport MonthlyTrend from \"./MonthlyTrend\";\nimport TopCities from \"./TopCities\";\nimport PickupManagement from \"../components/PickupManagement\";\n\nconst toNumberOrNull = (v) => {\n  const n = Number(v);\n  return Number.isFinite(n) ? n : null;\n};\n\n// Agar latitude 90 se bada ho (invalid) aur longitude valid range me ho,\n// to assume karo values swap ho gayi thi ‚Äî display ke liye correct kar do.\nconst normalizeLatLng = (lat, lng) => {\n  const la = toNumberOrNull(lat);\n  const lo = toNumberOrNull(lng);\n  if (la === null || lo === null) return { lat: null, lng: null, swapped: false };\n  if (Math.abs(la) > 90 && Math.abs(lo) <= 90) return { lat: lo, lng: la, swapped: true };\n  return { lat: la, lng: lo, swapped: false };\n};\n\nconst AdminDashboard = () => {\n  const [complaints, setComplaints] = useState([]);\n  const [filteredComplaints, setFilteredComplaints] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"All\");\n  const [departmentFilter, setDepartmentFilter] = useState(\"All\");\n  const [dateFilter, setDateFilter] = useState(\"All\");\n  const [selectedComplaint, setSelectedComplaint] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [departments, setDepartments] = useState([]);\n  const [showHistory, setShowHistory] = useState(false); // New state for history toggle\n  const [activeTab, setActiveTab] = useState(\"complaints\"); // New state for tab management\n\n  // Reverse geocoded address (modal)\n  const [revAddress, setRevAddress] = useState(null);\n  const [addrLoading, setAddrLoading] = useState(false);\n  const [addrError, setAddrError] = useState(null);\n\n  const fetchComplaints = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(\"/api/admin/complaints\");\n      const data = res.data;\n      if (data.success) {\n        setComplaints(data.complaints);\n      } else {\n        console.error(data.message);\n      }\n    } catch (err) {\n      console.error(\"Error fetching complaints:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchComplaints(); // Pehli baar data fetch karein jab component load ho\n\n    const intervalId = setInterval(() => {\n        fetchComplaints(); // Har 10 second mein naya data fetch karein\n    }, 10000); // 10000 milliseconds = 10 seconds\n\n    return () => clearInterval(intervalId);\n  }, []);\n\n  // Filter complaints based on search and filters\n  useEffect(() => {\n    // Dynamic departments list yahaan update hogi\n    const uniqueDepartments = [...new Set(complaints.map(c => c.department).filter(Boolean))];\n    setDepartments(uniqueDepartments);\n\n    let filtered = complaints;\n\n    // Search filter\n    if (searchTerm) {\n      filtered = filtered.filter(c =>\n        c.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        c.location?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        c.department?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        c.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        c.id?.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    // Status filter\n    if (statusFilter !== \"All\") {\n      filtered = filtered.filter(c => c.status === statusFilter);\n    }\n\n    // Department filter\n    if (departmentFilter !== \"All\") {\n      filtered = filtered.filter(c => c.department === departmentFilter);\n    }\n\n    // Date filter\n    if (dateFilter !== \"All\") {\n      const now = new Date();\n      filtered = filtered.filter(c => {\n        const complaintDate = new Date(c.timestamp);\n        switch (dateFilter) {\n          case \"Today\":\n            return complaintDate.toDateString() === now.toDateString();\n          case \"This Week\":\n            const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n            return complaintDate >= weekAgo;\n          case \"This Month\":\n            return complaintDate.getMonth() === now.getMonth() &&\n                   complaintDate.getFullYear() === now.getFullYear();\n          default:\n            return true;\n        }\n      });\n    }\n\n    setFilteredComplaints(filtered);\n  }, [complaints, searchTerm, statusFilter, departmentFilter, dateFilter]);\n\n  const handleStatusChange = async (id, newStatus) => {\n    try {\n      const res = await axios.post(\"/api/admin/update_status\", { id, status: newStatus });\n      const data = res.data;\n      \n      if (data.success) {\n        setComplaints(prev =>\n          prev.map(c => (c.id === id ? { ...c, status: newStatus } : c))\n        );\n      } else {\n        alert(data.message);\n      }\n    } catch (err) {\n      console.error(\"Error updating status:\", err);\n    }\n  };\n\n  const getStatusColor = status => {\n    switch (status) {\n      case \"Resolved\":\n        return \"bg-green-100 text-green-800 border-green-200\";\n      case \"Processing\":\n        return \"bg-yellow-100 text-yellow-800 border-yellow-200\";\n      case \"Pending\":\n        return \"bg-red-100 text-red-800 border-red-200\";\n      default:\n        return \"bg-gray-100 text-gray-800 border-gray-200\";\n    }\n  };\n\n  const getUrgencyColor = urgency => {\n    switch (urgency?.toLowerCase()) {\n      case \"high\":\n        return \"bg-red-500 text-white\";\n      case \"medium\":\n        return \"bg-yellow-500 text-white\";\n      case \"low\":\n        return \"bg-green-500 text-white\";\n      default:\n        return \"bg-blue-500 text-white\";\n    }\n  };\n\n  const getPriorityIcon = urgency => {\n    switch (urgency?.toLowerCase()) {\n      case \"high\":\n        return <AlertTriangle className=\"w-4 h-4\" />;\n      default:\n        return null;\n    }\n  };\n\n  // Calculate statistics\n  const stats = {\n    total: complaints.length,\n    pending: complaints.filter(c => c.status === \"Pending\").length,\n    processing: complaints.filter(c => c.status === \"Processing\").length,\n    resolved: complaints.filter(c => c.status === \"Resolved\").length,\n    today: complaints.filter(c => {\n      const today = new Date().toDateString();\n      return new Date(c.timestamp).toDateString() === today;\n    }).length,\n    thisWeek: complaints.filter(c => {\n      const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\n      return new Date(c.timestamp) >= weekAgo;\n    }).length\n  };\n\n  const exportToCSV = () => {\n    const headers = [\"ID\", \"Name\", \"Location\", \"Department\", \"Status\", \"Urgency\", \"Description\", \"Timestamp\", \"Token\"];\n    const csvContent = [\n      headers.join(\",\"),\n      ...filteredComplaints.map(c => [\n        c.id,\n        c.name,\n        c.location,\n        c.department || \"Unknown\",\n        c.status,\n        c.urgency || \"Normal\",\n        `\"${c.description?.replace(/\"/g, '\"\"') || ''}\"`,\n        new Date(c.timestamp).toLocaleString(),\n        c.token\n      ].join(\",\"))\n    ].join(\"\\n\");\n\n    const blob = new Blob([csvContent], { type: \"text/csv\" });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `complaints_${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  const viewComplaint = (complaint) => {\n    setSelectedComplaint(complaint);\n    setShowModal(true);\n  };\n\n  // üëâ Selected complaint ke lat/lng ko normalize karke rakho\n  const selectedLatLng = selectedComplaint\n    ? normalizeLatLng(selectedComplaint.latitude, selectedComplaint.longitude)\n    : { lat: null, lng: null, swapped: false };\n\n  // üëâ Modal open hote hi reverse geocoding (OpenStreetMap/Nominatim)\n  useEffect(() => {\n    if (!showModal || !selectedComplaint) return;\n\n    const { lat, lng } = selectedLatLng;\n    if (lat === null || lng === null) {\n      setRevAddress(null);\n      setAddrError(null);\n      setAddrLoading(false);\n      return;\n    }\n\n    setAddrLoading(true);\n    setAddrError(null);\n    setRevAddress(null);\n\n    fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=16`)\n      .then(r => r.ok ? r.json() : Promise.reject(new Error(`HTTP ${r.status}`)))\n      .then(j => setRevAddress(j?.display_name || null))\n      .catch(() => setAddrError(\"Address lookup failed\"))\n      .finally(() => setAddrLoading(false));\n  }, [showModal, selectedComplaint, selectedLatLng]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-6\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center space-x-4 mb-4\">\n              <div className=\"w-16 h-16 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-2xl flex items-center justify-center shadow-lg\">\n                <span className=\"text-3xl\">üå±</span>\n              </div>\n              <div>\n                <h1 className=\"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent\">\n                  EcoSarthi Admin Dashboard\n                </h1>\n                <p className=\"text-gray-600 text-lg\">\n                  Manage and track all environmental services and pickup requests in your system\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex gap-3\">\n            <button\n              onClick={fetchComplaints}\n              className=\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50\"\n              disabled={loading}\n            >\n              <RefreshCw className={`w-4 h-4 ${loading ? 'animate-spin' : ''}`} />\n              Refresh\n            </button>\n            <button\n              onClick={exportToCSV}\n              className=\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Export CSV\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"mb-8\">\n        <div className=\"bg-white rounded-2xl shadow-lg p-2 border border-gray-200\">\n          <nav className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab(\"complaints\")}\n              className={`py-3 px-6 rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-2 ${\n                activeTab === \"complaints\"\n                  ? \"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg\"\n                  : \"text-gray-500 hover:text-emerald-600 hover:bg-emerald-50\"\n              }`}\n            >\n              <span>‚ôªÔ∏è</span>\n              <span>Environmental Services</span>\n            </button>\n            <button\n              onClick={() => setActiveTab(\"pickup\")}\n              className={`py-3 px-6 rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-2 ${\n                activeTab === \"pickup\"\n                  ? \"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg\"\n                  : \"text-gray-500 hover:text-emerald-600 hover:bg-emerald-50\"\n              }`}\n            >\n              <span>üì¶</span>\n              <span>Pickup Management</span>\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      {/* Complaints Tab Content */}\n      {activeTab === \"complaints\" && (\n        <>\n          {/* Statistics Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8\">\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.total}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <Building className=\"w-6 h-6 text-blue-600\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Pending</p>\n              <p className=\"text-2xl font-bold text-red-600\">{stats.pending}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\">\n              <Clock className=\"w-6 h-6 text-red-600\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Processing</p>\n              <p className=\"text-2xl font-bold text-yellow-600\">{stats.processing}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center\">\n              <RefreshCw className=\"w-6 h-6 text-yellow-600\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Resolved</p>\n              <p className=\"text-2xl font-bold text-green-600\">{stats.resolved}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n              <User className=\"w-6 h-6 text-green-600\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Today</p>\n              <p className=\"text-2xl font-bold text-blue-600\">{stats.today}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <Calendar className=\"w-6 h-6 text-blue-600\" />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">This Week</p>\n              <p className=\"text-2xl font-bold text-purple-600\">{stats.thisWeek}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <MapPin className=\"w-6 h-6 text-purple-600\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Pickup Statistics Card */}\n        <div \n          className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 cursor-pointer hover:shadow-md transition-shadow\"\n          onClick={() => setActiveTab(\"pickup\")}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Pickup Requests</p>\n              <p className=\"text-2xl font-bold text-green-600\">\n                <span className=\"text-sm\">View in</span><br />\n                <span className=\"text-lg\">Pickup Tab</span>\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n              <Package className=\"w-6 h-6 text-green-600\" />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* Search */}\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search complaints...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n\n          {/* Status Filter */}\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"All\">All Status</option>\n            <option value=\"Pending\">Pending</option>\n            <option value=\"Processing\">Processing</option>\n            <option value=\"Resolved\">Resolved</option>\n          </select>\n\n          {/* Department Filter */}\n          <select\n            value={departmentFilter}\n            onChange={(e) => setDepartmentFilter(e.target.value)}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"All\">All Departments</option>\n            {departments.map(dept => (\n              <option key={dept} value={dept}>{dept}</option>\n            ))}\n          </select>\n\n          {/* Date Filter */}\n          <select\n            value={dateFilter}\n            onChange={(e) => setDateFilter(e.target.value)}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"All\">All Time</option>\n            <option value=\"Today\">Today</option>\n            <option value=\"This Week\">This Week</option>\n            <option value=\"This Month\">This Month</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Complaint Details\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Location & Department\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status & Priority\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Timestamp\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {loading ? (\n                <tr>\n                  <td colSpan=\"5\" className=\"px-6 py-4 text-center\">\n                    <div className=\"flex justify-center items-center\">\n                      <RefreshCw className=\"w-6 h-6 animate-spin text-blue-600\" />\n                      <span className=\"ml-2 text-gray-500\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              ) : filteredComplaints.length === 0 ? (\n                <tr>\n                  <td colSpan=\"5\" className=\"px-6 py-4 text-center text-gray-500\">\n                    No complaints found matching your filters.\n                  </td>\n                </tr>\n              ) : (\n                filteredComplaints\n                  .filter(c => c.status !== \"Resolved\") // Only show active complaints\n                  .map((complaint) => {\n                  const ll = normalizeLatLng(complaint.latitude, complaint.longitude);\n                  return (\n                    <tr key={complaint.id} className=\"hover:bg-gray-50 transition-colors\">\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-start space-x-3\">\n                          <div className=\"flex-shrink-0\">\n                            <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                              <User className=\"w-5 h-5 text-blue-600\" />\n                            </div>\n                          </div>\n                          <div className=\"min-w-0 flex-1\">\n                            <p className=\"text-sm font-medium text-gray-900\">\n                              {complaint.name}\n                            </p>\n                            <p className=\"text-xs text-gray-500\">\n                              ID: {complaint.id}\n                            </p>\n                            <p className=\"text-sm text-gray-600 mt-2 break-words leading-relaxed max-h-20 overflow-y-auto\">\n                              {complaint.description}\n                            </p>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"text-sm\">\n                          <p className=\"text-gray-900 flex items-center\">\n                            <MapPin className=\"w-4 h-4 mr-1 text-gray-400\" />\n                            {complaint.location}\n                          </p>\n                          {ll.lat !== null && ll.lng !== null && (\n                            <p className=\"text-xs text-gray-400 mt-0.5\">\n                              Lat: {ll.lat.toFixed(5)}, Lng: {ll.lng.toFixed(5)}\n                            </p>\n                          )}\n                          <p className=\"text-gray-500 flex items-center mt-1\">\n                            <Building className=\"w-4 h-4 mr-1 text-gray-400\" />\n                            {complaint.department || \"Unknown\"}\n                          </p>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex flex-col space-y-2\">\n                          <select\n                            value={complaint.status}\n                            onChange={(e) => handleStatusChange(complaint.id, e.target.value)}\n                            className={`text-xs px-2 py-1 rounded-full border font-medium ${getStatusColor(complaint.status)}`}\n                          >\n                            <option value=\"Pending\">Pending</option>\n                            <option value=\"Processing\">Processing</option>\n                            <option value=\"Resolved\">Resolved</option>\n                          </select>\n                          {complaint.urgency && (\n                            <div className={`flex items-center text-xs px-2 py-1 rounded-full ${getUrgencyColor(complaint.urgency)}`}>\n                              {getPriorityIcon(complaint.urgency)}\n                              <span className=\"ml-1\">{complaint.urgency}</span>\n                            </div>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-gray-500\">\n                        <div className=\"flex flex-col\">\n                          <span>{new Date(complaint.timestamp).toLocaleDateString()}</span>\n                          <span className=\"text-xs text-gray-400\">\n                            {new Date(complaint.timestamp).toLocaleTimeString()}\n                          </span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <button\n                          onClick={() => viewComplaint(complaint)}\n                          className=\"flex items-center text-blue-600 hover:text-blue-800 transition-colors\"\n                        >\n                          <Eye className=\"w-4 h-4 mr-1\" />\n                          View\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Showing results count */}\n      <div className=\"mt-4 text-sm text-gray-500 text-center\">\n        Showing {filteredComplaints.length} of {complaints.length} complaints\n      </div>\n\n      {/* Analytics Graphs Section */}\n      <div className=\"mt-8\">\n        <h3 className=\"text-xl font-semibold text-gray-800 mb-6 text-center\">Analytics Dashboard</h3>\n        \n        {/* First Row - 2 Graphs */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border\">\n            <h4 className=\"text-lg font-medium text-gray-700 mb-4\">Cases by Department</h4>\n            <CasesByDepartment complaints={complaints} />\n          </div>\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border\">\n            <h4 className=\"text-lg font-medium text-gray-700 mb-4\">Cases by City</h4>\n            <CasesByCity complaints={complaints} />\n          </div>\n        </div>\n        \n        {/* Second Row - 2 Graphs */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border\">\n            <h4 className=\"text-lg font-medium text-gray-700 mb-4\">Monthly Trend</h4>\n            <MonthlyTrend complaints={complaints} />\n          </div>\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border\">\n            <h4 className=\"text-lg font-medium text-gray-700 mb-4\">Top Cities</h4>\n            <TopCities complaints={complaints} />\n          </div>\n        </div>\n      </div>\n\n      {/* History Section for Resolved Complaints */}\n      <div className=\"mt-8\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h3 className=\"text-xl font-semibold text-gray-800\">Resolved Complaints History</h3>\n          <button\n            onClick={() => setShowHistory(!showHistory)}\n            className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            {showHistory ? \"Hide History\" : \"Show History\"}\n            <Clock className=\"w-4 h-4 ml-2\" />\n          </button>\n        </div>\n        \n        {showHistory && (\n          <div className=\"bg-white rounded-xl shadow-lg border overflow-hidden\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Complaint Details\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Location & Department\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Resolution Date\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {complaints\n                    .filter(c => c.status === \"Resolved\")\n                    .map((complaint) => {\n                      const ll = normalizeLatLng(complaint.latitude, complaint.longitude);\n                      return (\n                        <tr key={complaint.id} className=\"hover:bg-gray-50 transition-colors\">\n                          <td className=\"px-6 py-4\">\n                            <div className=\"flex items-start space-x-3\">\n                              <div className=\"flex-shrink-0\">\n                                <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                                  <User className=\"w-5 h-5 text-green-600\" />\n                                </div>\n                              </div>\n                              <div className=\"min-w-0 flex-1\">\n                                <p className=\"text-sm font-medium text-gray-900\">\n                                  {complaint.name}\n                                </p>\n                                <p className=\"text-xs text-gray-500\">\n                                  ID: {complaint.id}\n                                </p>\n                                <p className=\"text-sm text-gray-600 mt-2 break-words leading-relaxed max-h-20 overflow-y-auto\">\n                                  {complaint.description}\n                                </p>\n                              </div>\n                            </div>\n                          </td>\n                          <td className=\"px-6 py-4\">\n                            <div className=\"text-sm\">\n                              <p className=\"text-gray-900 flex items-center\">\n                                <MapPin className=\"w-4 h-4 mr-1 text-gray-400\" />\n                                {complaint.location}\n                              </p>\n                              <p className=\"text-gray-500 flex items-center mt-1\">\n                                <Building className=\"w-4 h-4 mr-1 text-gray-400\" />\n                                {complaint.department || \"Unknown\"}\n                              </p>\n                            </div>\n                          </td>\n                          <td className=\"px-6 py-4 text-sm text-gray-500\">\n                            <div className=\"flex flex-col\">\n                              <span>{new Date(complaint.timestamp).toLocaleDateString()}</span>\n                              <span className=\"text-xs text-gray-400\">\n                                {new Date(complaint.timestamp).toLocaleTimeString()}\n                              </span>\n                            </div>\n                          </td>\n                          <td className=\"px-6 py-4\">\n                            <button\n                              onClick={() => viewComplaint(complaint)}\n                              className=\"flex items-center text-blue-600 hover:text-blue-800 transition-colors\"\n                            >\n                              <Eye className=\"w-4 h-4 mr-1\" />\n                              View\n                            </button>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                </tbody>\n              </table>\n            </div>\n            {complaints.filter(c => c.status === \"Resolved\").length === 0 && (\n              <div className=\"text-center py-8 text-gray-500\">\n                No resolved complaints found in history.\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n        </>\n      )}\n\n      {/* Pickup Management Tab Content */}\n      {activeTab === \"pickup\" && (\n        <PickupManagement />\n      )}\n\n      {/* Modal for viewing complaint details */}\n      {showModal && selectedComplaint && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">Complaint Details</h2>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600 text-2xl\"\n                >\n                  √ó\n                </button>\n              </div>\n              \n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Complaint ID\n                    </label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 p-2 rounded\">\n                      {selectedComplaint.id}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Token\n                    </label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 p-2 rounded\">\n                      {selectedComplaint.token}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Name\n                    </label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 p-2 rounded\">\n                      {selectedComplaint.name}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Location\n                    </label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 p-2 rounded\">\n                      {selectedComplaint.location || \"‚Äî\"}\n                    </p>\n\n                    {/* Lat/Lng + Map link */}\n                    {selectedLatLng.lat !== null && selectedLatLng.lng !== null && (\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        Lat: {selectedLatLng.lat.toFixed(6)}, Lng: {selectedLatLng.lng.toFixed(6)}\n                        <a\n                          href={`https://www.google.com/maps?q=${selectedLatLng.lat},${selectedLatLng.lng}`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-blue-600 underline ml-2\"\n                        >\n                          View on Map\n                        </a>\n                      </p>\n                    )}\n                    {selectedLatLng.swapped && (\n                      <p className=\"text-[10px] text-orange-500 mt-0.5\">\n                        Note: input looked swapped; auto-corrected for display.\n                      </p>\n                    )}\n\n                    {/* Reverse geocoded address */}\n                    {(selectedLatLng.lat !== null && selectedLatLng.lng !== null) && (\n                      <div className=\"mt-2\">\n                        <span className=\"block text-xs font-medium text-gray-700 mb-1\">\n                          Address\n                        </span>\n                        {addrLoading && (\n                          <span className=\"text-xs text-gray-400\">Fetching address‚Ä¶</span>\n                        )}\n                        {!addrLoading && addrError && (\n                          <span className=\"text-xs text-red-500\">{addrError}</span>\n                        )}\n                        {!addrLoading && !addrError && (\n                          <p className=\"text-xs text-gray-700\">{revAddress || \"‚Äî\"}</p>\n                        )}\n                      </div>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Department\n                    </label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 p-2 rounded\">\n                      {selectedComplaint.department || \"Unknown\"}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Type\n                    </label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 p-2 rounded\">\n                      {selectedComplaint.type || \"Text\"}\n                    </p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Status\n                    </label>\n                    <span className={`text-xs px-3 py-1 rounded-full border font-medium ${getStatusColor(selectedComplaint.status)}`}>\n                      {selectedComplaint.status}\n                    </span>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Urgency\n                    </label>\n                    <span className={`text-xs px-3 py-1 rounded-full ${getUrgencyColor(selectedComplaint.urgency)}`}>\n                      {selectedComplaint.urgency || \"Normal\"}\n                    </span>\n                  </div>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Description\n                  </label>\n                  <div className=\"text-sm text-gray-900 bg-gray-50 p-3 rounded min-h-[100px]\">\n                    {selectedComplaint.description || \"No description provided\"}\n                  </div>\n                </div>\n                \n                <div>\n               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Photo\n               </label>\n               {selectedComplaint.photoUrl ? (\n              <img src={`http://localhost:5000${selectedComplaint.photoUrl}`} \n\n              alt=\"Complaint\"\n              className=\"w-full max-h-64 object-contain rounded border\"\n              />\n              ) : (\n             <p className=\"text-sm text-gray-500\">No photo uploaded</p>\n              )}\n             </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Timestamp\n                  </label>\n                  <p className=\"text-sm text-gray-900 bg-gray-50 p-2 rounded\">\n                    {new Date(selectedComplaint.timestamp).toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}